# Lexicon

Lexicon is a [Matrix](https://matrix.org/) bot based on [NLP.js](https://github.com/axa-group/nlp.js) that hangs in [ESOUI room on Gitter](https://gitter.im/lexicon).

## Repository

Here's a brief summary of the most important locations in the repository.

- `src/index.js` is the NLP.js bot entrypoint.
- `src/connector` is where we put different connectors, e.g. Matrix, Discord, etc.
- `src/features` is where we put what the bot can do.
- `storage` is used to store runtime data generated by the bot.
- `support` is used during development to launch Matrix and Element instances.

## Development

You'll need Node.js v18+ and to install the dependencies.

```sh
npm ci
```

Then you can run the bot, providing a connector and its configuration:

```sh
npm start -- --connector console
```

> üí° The `console` connector is the easiest one to use if you're just working on bot features.

### Local Matrix

We provide support files to launch local Matrix and Element instances so you can test drive your bot. You'll need Docker v20+ and Docker Compose plugin installed. Also, make sure ports `8000` and `8008` are available.

```sh
docker compose -f support/compose.yml up
```

Head over to <http://localhost:8000>, sign-up and use the credentials with the bot:

```sh
npm start -- -c matrix -s http://matrix.local.crz.li -u bot -p thisisnotsecure -x
```

> ‚ÑπÔ∏è We use the hostname `matrix.local.crz.li` because locally it resolves to `127.0.0.1`, but it's also the hostname to one of the containers.

## Production

You'll need Docker v20+ and Docker Compose plugin installed. Copy `example.env` to `.env` and edit it appropriately. Then launch the bot service in background.

```sh
docker compose up -d
```

## Legal

The MIT License ¬© 2016 Arthur Corenzan and collaborators.
